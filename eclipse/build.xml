<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!--
 |  
 | Download Galileo artifacts and unzip them into the user's local maven repo     
 |                                                                                             
 |                                                                                             
 | @version $Rev$ $Date$
 -->
<project name="GalileoArtifacts">

    <target name="init">
        <property name="galileo_url"            value="http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/galileo/R/"/>
        <property name="galileo_jee_win32"      value="eclipse-jee-galileo-win32.zip"/>
        <property name="galileo_jee_linux"      value="eclipse-jee-galileo-linux-gtk.tar"/>
        <property name="galileo_jee_linux-x86_64" value="eclipse-jee-galileo-linux-gtk-x86_64.tar"/>
        <property name="galileo_jee_macos"      value="eclipse-jee-galileo-macosx-carbon.tar"/>
        <property name="galileo_jee_linux_gz"   value="${galileo_jee_linux}.gz"/>
        <property name="galileo_jee_linux-x86_64_gz" value="${galileo_jee_linux-x86_64}.gz"/>
        <property name="galileo_jee_macos_gz"   value="${galileo_jee_macos}.gz"/>
        <property name="protocol"               value="&amp;r=1&amp;protocol=http"/>
        
        <property name="tptp-version"	 value="4.6.0"/>
        <property name="tptp"		value="tptp.runtime-TPTP-${tptp-version}.zip"/>
        <property name="tptp-runtime-url"		value="http://archive.eclipse.org/tptp/${tptp-version}/TPTP-${tptp-version}/${tptp}"/>       
      
    </target>

	<target name="tptp" description="Download and extract TPTP runtime package">
		 	<echo>#################################################################################</echo>
	        <echo>##                                                                               </echo>
	        <echo>## Downloading: ${tptp}                                             </echo>
	        <echo>##                                                                               </echo>
	        <echo>## From: ${tptp-runtime-url}                                                          </echo>
	        <echo>##                                                                               </echo>
	        <echo>#################################################################################</echo>
	        <mkdir dir="${LOCAL_M2_REPO}/eclipse-downloads"/>
	        <get src="${tptp-runtime-url}"
	             dest="${LOCAL_M2_REPO}/eclipse-downloads/${tptp}" 
	             verbose="true"
	             ignoreerrors="true"
	             usetimestamp="true"/>
	        <echo>#################################################################################</echo>
	        <echo>##                                                                               </echo>
	        <echo>## Unzipping: ${tptp}                                               </echo>
	        <echo>##                                                                               </echo>
	        <echo>#################################################################################</echo>
	        <unzip src="${LOCAL_M2_REPO}/eclipse-downloads/${tptp}" 
	               dest="${LOCAL_M2_REPO}/eclipse"
	               overwrite="true"/>
	</target>

    <target name="win32" depends="init" description="Download Windows-specific artifact(s)">
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Downloading: ${galileo_jee_win32}                                             </echo>
        <echo>##                                                                               </echo>
        <echo>## From: ${galileo_url}                                                          </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <mkdir dir="${LOCAL_M2_REPO}/eclipse-downloads"/>
        <get src="${galileo_url}${galileo_jee_win32}${protocol}"
             dest="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_win32}" 
             verbose="true"
             ignoreerrors="true"
             usetimestamp="true"/>
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Unzipping: ${galileo_jee_win32}                                               </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <delete dir="${LOCAL_M2_REPO}/eclipse" quiet="true"/>
        <mkdir dir="${LOCAL_M2_REPO}/eclipse"/>
        <unzip src="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_win32}" 
               dest="${LOCAL_M2_REPO}/eclipse"
               overwrite="true"/>
    </target>

    <target name="linux" depends="init" description="Download Linux-specific artifact(s)">
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Downloading: ${galileo_jee_linux_gz}                                          </echo>
        <echo>##                                                                               </echo>
        <echo>## From: ${galileo_url}                                                          </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <mkdir dir="${LOCAL_M2_REPO}/eclipse-downloads"/>
        <get src="${galileo_url}${galileo_jee_linux_gz}${protocol}"
             dest="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_linux_gz}" 
             verbose="true"
             ignoreerrors="true"
             usetimestamp="true"/>
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Unzipping: ${galileo_jee_linux_gz}                                            </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <delete dir="${LOCAL_M2_REPO}/eclipse" quiet="true"/>
        <mkdir  dir="${LOCAL_M2_REPO}/eclipse"/>
        <gunzip src="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_linux_gz}"/>
        <untar  src="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_linux}" 
                dest="${LOCAL_M2_REPO}/eclipse"
                overwrite="true"/>
    </target>

    <target name="linux-x86_64" depends="init" description="Download Linux-specific artifact(s)">
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Downloading: ${galileo_jee_linux-x86_64_gz}                                   </echo>
        <echo>##                                                                               </echo>
        <echo>## From: ${galileo_url}                                                          </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <mkdir dir="${LOCAL_M2_REPO}/eclipse-downloads"/>
        <get src="${galileo_url}${galileo_jee_linux-x86_64_gz}${protocol}"
             dest="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_linux-x86_64_gz}"
             verbose="true"
             ignoreerrors="true"
             usetimestamp="true"/>
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Unzipping: ${galileo_jee_linux-x86_64_gz}                                     </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <delete dir="${LOCAL_M2_REPO}/eclipse" quiet="true"/>
        <mkdir  dir="${LOCAL_M2_REPO}/eclipse"/>
        <gunzip src="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_linux-x86_64_gz}"/>
        <untar  src="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_linux-x86_64}"
                dest="${LOCAL_M2_REPO}/eclipse"
                overwrite="true"/>
    </target>


    <target name="macos" depends="init" description="Download Mac-specific artifact(s)">
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Downloading: ${galileo_jee_macos_gz}                                          </echo>
        <echo>##                                                                               </echo>
        <echo>## From: ${galileo_url}                                                          </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <mkdir dir="${LOCAL_M2_REPO}/eclipse-downloads"/>
        <get src="${galileo_url}${galileo_jee_macos_gz}${protocol}"
             dest="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_macos_gz}" 
             verbose="true"
             ignoreerrors="true"
             usetimestamp="true"/>
        <echo>#################################################################################</echo>
        <echo>##                                                                               </echo>
        <echo>## Unzipping: ${galileo_jee_macos_gz}                                            </echo>
        <echo>##                                                                               </echo>
        <echo>#################################################################################</echo>
        <delete dir="${LOCAL_M2_REPO}/eclipse" quiet="true"/>
        <mkdir  dir="${LOCAL_M2_REPO}/eclipse"/>
        <gunzip src="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_macos_gz}"/>
        <untar  src="${LOCAL_M2_REPO}/eclipse-downloads/${galileo_jee_macos}" 
                dest="${LOCAL_M2_REPO}/eclipse"
                overwrite="true"/>
    </target>

</project>
